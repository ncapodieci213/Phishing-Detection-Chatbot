## ğŸ›¡ï¸ Anti-Phishing Chatbot

A **lightweight AI-powered chatbot**, geared towards seniors, that helps users detect phishing or scam messages.  
You can paste suspicious emails, texts, or URLs into the chatbot, and it will:
- Evaluate how likely the text is a phishing attempt,
- Analyze patterns such as homoglyphs, blacklisted domains, and suspicious keywords,
- Generate a **human-readable explanation** via a large language model (e.g., LLaMA-3.2-3B-Instruct).

The system combines:
- âš™ï¸ **Machine Learning (ML)** for phishing classification  
- ğŸ§  **Large Language Model (LLM)** for natural, friendly explanations  
- ğŸš€ **FastAPI** for API backend  
- ğŸ’¬ **Gradio** for user interface  
- âš¡ Optional **GPU acceleration** for faster inference  

---

## ğŸ“ Repository Structure
```
anti-phishing-chatbot/
â”‚
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ main.py                # Entry point â€“ runs FastAPI + Gradio
â”‚   â”œâ”€â”€ api.py                 # REST API endpoints
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”œâ”€â”€ pipeline.py        # Core ML & LLM inference pipeline
â”‚   â”‚   â””â”€â”€ phishing_rules.py  # Rule-based checks (homoglyphs, keywords)
â”‚   â”œâ”€â”€ interface/
â”‚   â”‚   â””â”€â”€ gradio_ui.py       # Gradio user interface
â”‚   â””â”€â”€ utils/                 # Utilities (logger, config loader)
â”‚
â”œâ”€â”€ knowledge_base/            # JSON files: homoglyphs, keywords, etc.
â”œâ”€â”€ models/                    # Pretrained models and vectorizers
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ Dockerfile                 # CPU version
â”œâ”€â”€ Dockerfile.gpu             # GPU-optimized version
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ docker-compose.gpu.yml
â””â”€â”€ README.md
```
---

## ğŸ§° Prerequisites

Youâ€™ll need:
- **Python 3.10+**
- **pip** (Python package manager)
- (Optional) **Docker** and **NVIDIA GPU + drivers** if using GPU acceleration

---

## âš™ï¸ Installation (Local)

1. **Clone the repository**
```bash
git clone https://github.com/ncapodieci213/Phishing-Detection-Chatbot.git
cd Phishing-Detection-Chatbot
```

2. **Create and activate a virtual environment**

```bash
python3 -m venv phishing
source phishing/bin/activate       # macOS/Linux
venv\Scripts\activate          # Windows
```

3. **Install dependencies**

```bash
pip3 install --upgrade pip
pip3 install -r requirements.txt
```

---

## ğŸš€ Running the Chatbot (Local Gradio Interface)

Run the combined **FastAPI + Gradio** app:

```bash
uvicorn app.main:app --host 0.0.0.0 --port 7860 --reload
```

Then open your browser to:

ğŸ‘‰ **[http://localhost:7860/](http://localhost:7860/)** â€” access the Gradio chatbot interface
ğŸ‘‰ **[http://localhost:7860/docs](http://localhost:7860/docs)** â€” view API documentation (FastAPI Swagger UI)

---

## ğŸ’¬ How to Use (Gradio Interface)

1. Open the Gradio app in your browser (`http://localhost:7860/`).
2. Paste any suspicious message, email, or SMS content in the text box.
3. Click **â€œAnalyzeâ€**.
4. View:

   * The **predicted label** (â€œPhishingâ€ or â€œLegitimateâ€),
   * The **confidence score**, and
   * A **natural-language explanation** generated by the LLM.

**Example:**

```
Input:
"Your PayPal account has been restricted. Click here to verify your details: http://pÃ¡ypal.com.secure-login.info"

Output:
Prediction: Phishing
Confidence: 0.94
Explanation: This message contains a suspicious URL that mimics 'paypal.com' using homoglyphs and requests sensitive action â€” a common phishing indicator.
```

---

## ğŸ§  API Endpoint (Optional)

You can also send text for analysis directly via the FastAPI endpoint:

```bash
curl -X POST "http://localhost:7860/api/predict?text=Free+gift+card+claim+now!"
```

**Example JSON Response:**

```json
{
  "label": "Phishing",
  "probability": 0.87,
  "explanation": "Contains urgent language and a suspicious link pattern."
}
```

---

## ğŸ³ Running with Docker (CPU)

1. **Build the image**

   ```bash
   docker-compose build
   ```

2. **Run the container**

   ```bash
   docker-compose up
   ```

Then open **[http://localhost:7860/](http://localhost:7860/)** to use the chatbot.

---

## âš¡ Running with Docker (GPU)

If you have an **NVIDIA GPU** and **CUDA 12.1+**, you can use GPU inference for faster processing.

1. **Install NVIDIA Container Toolkit**
   [Installation guide](https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/install-guide.html)

2. **Build and run the GPU container**

   ```bash
   docker compose -f docker-compose.gpu.yml build
   docker compose -f docker-compose.gpu.yml up
   ```

3. **Verify GPU is active**

   ```bash
   docker exec -it anti-phishing-chatbot-gpu python -c "import torch; print(torch.cuda.is_available())"
   ```

Expected output:

```
True
```

---

## âš™ï¸ Environment Variables

| Variable               | Description                        | Default      |
| ---------------------- | ---------------------------------- | ------------ |
| `APP_ENV`              | Runtime mode (`dev`, `production`) | `production` |
| `GRADIO_SERVER_PORT`   | Port for Gradio web interface      | `7860`       |
| `GRADIO_SERVER_NAME`   | Host binding                       | `0.0.0.0`    |
| `CUDA_VISIBLE_DEVICES` | GPU index for CUDA                 | `0`          |

---

## ğŸ§© Model and Knowledge Base (to be updated)

<!-- | Component                    | Description                                       |
| ---------------------------- | ------------------------------------------------- |
| **phishing_classifier.pkl**  | Trained ML model for phishing detection           |
| **vectorizer.pkl**           | Text vectorizer (e.g., TF-IDF or BERT embeddings) |
| **homoglyphs.json**          | Unicode look-alikes (used in phishing URLs)       |
| **suspicious_keywords.json** | High-risk terms like â€œurgent,â€ â€œverify,â€ etc.     |
| **phishing_examples.json**   | Labeled examples for pattern matching             |
| **domain_blacklist.json**    | List of malicious or spoofed domains              | -->

---

## ğŸ§ª Testing (to be updated)

<!-- Run unit tests with:

```bash
pytest tests/
``` -->

---

## ğŸ“œ License

MIT License Â© 2025
You are free to use, modify, and distribute this project with attribution.

---

## ğŸ™Œ Acknowledgments

* [FastAPI](https://fastapi.tiangolo.com/) for the backend
* [Gradio](https://gradio.app/) for the web UI
* [PyTorch](https://pytorch.org/) for machine learning support
* [LLaMA](https://ai.meta.com/llama/) for natural-language explanations

---

<!-- **ğŸ’¡ Tip:**
If deploying to cloud (e.g., AWS EC2 or GCP), map port `7860` in your firewall or load balancer to access the chatbot externally. -->
